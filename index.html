<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link type="text/css" rel="stylesheet" href="stylesheets/main.css" />
    <img class="logo" src="branding/hbc-advent.png" alt="logo" />
    <title>Beer List</title>
    <!-- Adding fallback styles in case main.css doesn't load -->
  </head>
  <body>
    <div class="container">
      <!-- Login Form -->
      <div id="loginForm" class="login-form" style="display: flex">
        <h2 class="passwordTitle">Enter Password</h2>
        <input
          type="password"
          id="passwordInput"
          placeholder="Enter password"
          onkeypress="handleKeyPress(event)" />
        <button class="submit" onclick="checkPassword()">Submit</button>
      </div>
      <div
        id="protectedContent"
        class="protected-content"
        style="display: none">
        <h1 class="title">Beer List</h1>

        <a class="link" href="beer/template.html">Template</a>

        <button onclick="logout()">Logout</button>
      </div>
    </div>

    <script>
      // Set your password here
      const correctPassword = 'HopsAndMalt2025';

      // Check if user is already authenticated
      window.onload = function () {
        const isAuthenticated = sessionStorage.getItem('authenticated');
        if (isAuthenticated) {
          showContent();
        }
      };

      function checkPassword() {
        const passwordInput = document.getElementById('passwordInput');
        if (passwordInput.value === correctPassword) {
          sessionStorage.setItem('authenticated', 'true');
          showContent();
        } else {
          alert('Incorrect password!');
          passwordInput.value = '';
        }
      }

      function handleKeyPress(event) {
        if (event.key === 'Enter') {
          checkPassword();
        }
      }

      function showContent() {
        document.getElementById('loginForm').style.display = 'none';
        document.getElementById('protectedContent').style.display = 'block';
      }

      function logout() {
        sessionStorage.removeItem('authenticated');
        document.getElementById('loginForm').style.display = 'block';
        document.getElementById('protectedContent').style.display = 'none';
        document.getElementById('passwordInput').value = '';
      }
    </script>
  </body>
</html>
